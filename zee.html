<!doctype html>
<html>
  <head>
    <title>Text to Image Test</title>
    <script>
      function drawText(text, font, textColor, backColor) {
        var canvas = document.createElement("canvas");
        var context = canvas.getContext("2d");

        context.font = font;
        var textSize = context.measureText(text);

        canvas.width = textSize.width;
        canvas.height = parseInt(font, 10);

        context.fillStyle = backColor;
        context.fillRect(0, 0, canvas.width, canvas.height);

        context.fillStyle = textColor;
        context.textBaseline = "middle"; // Align text vertically
        context.fillText(text, 0, canvas.height / 2);

        return canvas.toDataURL();
      }

      function createImage() {
        var text = document.getElementById("text").value;
        var font = document.getElementById("font").value;
        var textColor = document.getElementById("textColor").value;
        var backColor = document.getElementById("backColor").value;

        var imageDataUrl = drawText(text, font, textColor, backColor);
        document.getElementById("result").src = imageDataUrl;
      }
    </script>
  </head>
  <body>
    <h2>Text to Image Converter</h2>
    <p>Text: <input type="text" id="text" value="Hello World!" /></p>
    <p>Font: <input type="text" id="font" value="20px Arial" /></p>
    <p>Text Color: <input type="color" id="textColor" value="#000000" /></p>
    <p>
      Background Color: <input type="color" id="backColor" value="#FFFFFF" />
    </p>
    <button onclick="createImage()">Create Image</button>
    <br />
    <img id="result" />
  </body>
</html>
